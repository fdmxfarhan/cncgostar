doctype html
html(lang='fa' dir='rtl')
  head
    meta(charset='utf-8')
    title CNC Bartar 
    meta(http-equiv='X-UA-Compatible' content='IE=Edge')
    meta(name='viewport' content='width=device-width, initial-scale=1')
    meta(name='keywords' content)
    meta(name='description' content)
    link(href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,400italic,700,800' rel='stylesheet' type='text/css')
    link(rel='stylesheet' href='/css/landing/home.css')
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css')
  body
    .slideshow-container
      .slide.fade
        img(src='/img/cncgostar/4.jpg' alt='Slide 1')
        .slide-content
          h2.title خدمات فرز CNC
          p.description سه محور و چهار محور
      .slide.fade
        img(src='/img/cncgostar/cnc4axis.jpg' alt='Slide 2')
        .slide-content
          h2.title خدمات فرز CNC
          p.description سه محور و چهار محور
      .slide.fade
        img(src='/img/cncgostar/polyamid.jpg' alt='Slide 3')
        .slide-content
          h2.title خدمات فرز CNC
          p.description سه محور و چهار محور
      .slide.fade
        img(src='/img/landing/04.jpg' alt='Slide 4')
        .slide-content
          h2.title خدمات فرز CNC
          p.description سه محور و چهار محور
      //- .slide-controls
      //-   span.prev(onclick='changeSlide(-1)') &#10094;
      //-   span.next(onclick='changeSlide(1)') &#10095;
      .slide-dots
        span.dot(onclick='currentSlide(1)')
        span.dot(onclick='currentSlide(2)')
        span.dot(onclick='currentSlide(3)')
        span.dot(onclick='currentSlide(4)')
    
    nav.navbar
      .navbar-right
        a.logo(href='/')
          img(src='/img/logo.png' alt='CNC Bartar Logo')
        .mobile-menu-btn
          span
          span
          span
        .nav-links-container
          ul.nav-links
            li
              a(href='/') صفحه اصلی
            li.dropdown
              a خدمات ما
              .dropdown-content
                .dropdown-column
                  h3 خدمات سه محور
                  a(href='/services/cnc') مخابراتی
                  a(href='/services/laser') تجهیزات پزشکی
                  a(href='/services/waterjet') پتروشیمی
                  a(href='/services/plasma') صنعتی
                .dropdown-column
                  h3 خدمات چهار محور
                  a(href='/services/engraving/laser') ماردون
                  a(href='/services/engraving/cnc') غلتک
                  a(href='/services/engraving/rotary') ایمپلر (بلسیک)
                  a(href='/services/engraving/rotary') ایندکس (Indexing)
                  a(href='/services/engraving/rotary') اسکرو (Screw)
                .dropdown-column
                  h3 خدمات قالب سازی
                  a(href='/services/bending/sheet') تزریق پلاستیک
                  a(href='/services/bending/tube') سنبه ماتریس
            //- li.dropdown
            //-   a محصولات
            //-   .dropdown-content
            //-     .dropdown-column
            //-       h3 قطعات صنعتی
            //-       a(href='/products/industrial/cnc') قطعات CNC
            //-       a(href='/products/industrial/laser') قطعات لیزر
            //-       a(href='/products/industrial/waterjet') قطعات واترجت
            //-       a(href='/products/industrial/plasma') قطعات پلاسما
            //-     .dropdown-column
            //-       h3 قطعات هنری
            //-       a(href='/products/artistic/engraving') حکاکی هنری
            //-       a(href='/products/artistic/signage') تابلوهای تبلیغاتی
            //-       a(href='/products/artistic/decorative') تزئینات دکوراتیو
            //-     .dropdown-column
            //-       h3 قطعات سفارشی
            //-       a(href='/products/custom/design') طراحی سفارشی
            //-       a(href='/products/custom/prototype') نمونه‌سازی
            //-       a(href='/products/custom/production') تولید انبوه
            li.dropdown
              a مقالات
              .dropdown-content
                .dropdown-column
                  h3 مقالات فنی
                  a(href='/articles/technical/cnc') مقالات CNC
                  a(href='/articles/technical/laser') مقالات لیزر
                  a(href='/articles/technical/waterjet') مقالات واترجت
                  a(href='/articles/technical/plasma') مقالات پلاسما
                .dropdown-column
                  h3 مقالات آموزشی
                  a(href='/articles/educational/tutorials') آموزش‌ها
                  a(href='/articles/educational/guides') راهنماها
                  a(href='/articles/educational/tips') نکات کاربردی
                .dropdown-column
                  h3 اخبار و رویدادها
                  a(href='/articles/news/industry') اخبار صنعت
                  a(href='/articles/news/company') اخبار شرکت
                  a(href='/articles/news/events') رویدادها
            li
              a درباره ما
              
            li.dropdown
              a تماس با ما
              .dropdown-content
                .dropdown-column
                  h3 اطلاعات تماس
                  a(href='/contact/address') آدرس و نقشه
                  a(href='/contact/phone') شماره‌های تماس
                  a(href='/contact/email') ایمیل
                  a(href='/contact/social') شبکه‌های اجتماعی
                .dropdown-column
                  h3 فرم‌ها
                  a(href='/contact/quote') درخواست قیمت
                  a(href='/contact/support') پشتیبانی
                  a(href='/contact/feedback') نظرات و پیشنهادات
                .dropdown-column
                  h3 ساعات کاری
                  a(href='/contact/hours') ساعات کاری
                  a(href='/contact/locations') شعبه‌ها
                  a(href='/contact/emergency') تماس اضطراری
          .mobile-extra
            .search-box
              input(type='text' placeholder='جستجو...')
              button.search-btn
                i.fas.fa-search
            .social-links
              a.social-link(href='#' target='_blank')
                i.fab.fa-instagram
              a.social-link(href='#' target='_blank')
                i.fab.fa-whatsapp
              a.social-link(href='#' target='_blank')
                i.fab.fa-telegram-plane
      .navbar-left
        .search-box
          input(type='text' placeholder='جستجو...')
          button.search-btn
            i.fas.fa-search
        .social-links
          a.social-link(href='#' target='_blank')
            i.fab.fa-instagram
          a.social-link(href='#' target='_blank')
            i.fab.fa-whatsapp
          a.social-link(href='#' target='_blank')
            i.fab.fa-telegram-plane

    section.about-section
      h2.section-title درباره سی ان سی برتر
      .about-content
        p.about-text
          | مجموعه CNC گستر در سال 1374 با هدف طراحی و ساخت انواع قطعات صنعتی، مخابراتی، 
          | پتروشیمی، قالب سازی، جیگ و فیکسچر و.. . آغاز به کار نمود. پس از گذشت 30 سال و انجام پروژه 
          | های متعدد و متنوع، یکی از مجریان توانمند و شناخته شده درعرصه صنعت می باشد. 
          | این شرکت با بکارگیری نیروهای متخصص و کارآمد همچنین استفاده از تجهیزات و ماشین آلات بروز 
          | آمادگی خود را برای انجام هرگونه خدمات طراحی و ساخت قطعات سه و چهارمحور اعلام می دارد . 
        
        .contact-buttons
          a.phone-button(href='tel:02166612134')
            i.fas.fa-phone
            span 021-66612134
          a.phone-button(href='tel:+09121974633')
            i.fas.fa-phone
            span 09121974633
    
    section
      h2.section-title خدمات سی ان سی برتر
      
    section.products-section
      .product-cards
        .product-card
          .card-slideshow
            .card-slide.fade
              img(src='/img/mokhaberat/1.jpg' alt='قطعات مخابراتی 1')
            .card-slide.fade
              img(src='/img/mokhaberat/2.jpg' alt='قطعات مخابراتی 2')
            .card-slide.fade
              img(src='/img/mokhaberat/3.jpg' alt='قطعات مخابراتی 3')
          .card-content
            h3.card-title قطعات مخابراتی
            p.card-description
              | تولید قطعات دقیق و با کیفیت برای صنعت مخابرات با استفاده از دستگاه‌های CNC پیشرفته. خدمات ما شامل برش، حکاکی و ماشینکاری قطعات مخابراتی با دقت بالا و کیفیت برتر است. ما با استفاده از تکنولوژی‌های روز دنیا، قطعات مورد نیاز صنعت مخابرات را با بهترین کیفیت و قیمت مناسب تولید می‌کنیم.

        .product-card
          .card-slideshow
            .card-slide.fade
              img(src='/img/sanati/1.jpg' alt='قطعات نظامی 1')
            .card-slide.fade
              img(src='/img/sanati/2.jpg' alt='قطعات نظامی 2')
            .card-slide.fade
              img(src='/img/sanati/3.jpg' alt='قطعات نظامی 3')
          .card-content
            h3.card-title صنعتی
            p.card-description
              | ساخت قطعات دقیق و مقاوم برای صنایع نظامی با استانداردهای بالا و کیفیت برتر. ما با استفاده از دستگاه‌های CNC پیشرفته و مواد اولیه با کیفیت، قطعات نظامی را با دقت بالا و مقاومت مناسب تولید می‌کنیم. خدمات ما شامل برش، حکاکی، ماشینکاری و پرداخت قطعات نظامی است.

        .product-card
          .card-slideshow
            .card-slide.fade
              img(src='/img/ghaleb/1.jpg' alt='قالب‌سازی 1')
            .card-slide.fade
              img(src='/img/ghaleb/2.jpg' alt='قالب‌سازی 2')
            .card-slide.fade
              img(src='/img/ghaleb/3.jpg' alt='قالب‌سازی 3')
          .card-content
            h3.card-title قالب سازی
            p.card-description
              | طراحی و ساخت قالب‌های دقیق و با کیفیت برای صنایع مختلف با استفاده از تکنولوژی‌های پیشرفته. ما با تجربه بالا در زمینه قالب‌سازی، قالب‌های مورد نیاز صنایع مختلف را با دقت بالا و کیفیت برتر تولید می‌کنیم. خدمات ما شامل طراحی، ساخت و تعمیر قالب‌های مختلف است.

    section.services-showcase
      .services-container
        a.service-column(href='/services/cnc')
          .service-image
            img(src='/img/cncgostar/photo/1-ASLI/1.jpg' alt='خدمات CNC')
            .overlay
            .service-content
              h3.service-title خدمات CNC
              .service-link
                span مشاهده خدمات
                i.fas.fa-chevron-left

        a.service-column(href='/services/mold')
          .service-image
            img(src='/img/cncgostar/photo/4-4 MEHVAR/1.jpg' alt='خدمات قالب سازی')
            .overlay
            .service-content
              h3.service-title خدمات قالب سازی
              .service-link
                span مشاهده خدمات
                i.fas.fa-chevron-left

    section.milling-services
      .milling-container
        .milling-images
          .milling-image
            img(src='/img/landing/05.jpg' alt='فرز CNC 1')
          .milling-image
            img(src='/img/landing/06.jpg' alt='فرز CNC 2')
          .milling-image
            img(src='/img/landing/07.jpg' alt='فرز CNC 3')
        .milling-content
          h2.milling-title خدمات فرز CNC
          p.milling-description
            | با استفاده از پیشرفته‌ترین دستگاه‌های فرز CNC، خدمات ماشینکاری دقیق و با کیفیت را به مشتریان خود ارائه می‌دهیم. تیم متخصص ما با تجربه بالا در زمینه فرزکاری، آماده خدمت‌رسانی به صنایع مختلف می‌باشد.
          ul.milling-features
            li
              i.fas.fa-check
              span فرزکاری سه محوره و پنج محوره
            li
              i.fas.fa-check
              span ماشینکاری قطعات با پیچیدگی بالا
            li
              i.fas.fa-check
              span تولید قطعات با تلرانس دقیق
            li
              i.fas.fa-check
              span استفاده از نرم‌افزارهای پیشرفته CAD/CAM
            li
              i.fas.fa-check
              span پشتیبانی از فرمت‌های مختلف فایل
            li
              i.fas.fa-check
              span خدمات مشاوره و طراحی

    footer.footer
      .footer-container
        .footer-section.quick-access
          h3.footer-title دسترسی سریع
          ul.footer-links
            li
              a(href='/') صفحه اصلی
            li
              a(href='/services') خدمات ما
            li
              a(href='/products') محصولات
            li
              a(href='/articles') مقالات
            li
              a(href='/about') درباره ما
            li
              a(href='/contact') تماس با ما

        .footer-section.about
          h3.footer-title درباره سی ان سی برتر
          p.footer-description
            | مجموعه CNC گستر در سال 1374 با هدف طراحی و ساخت انواع قطعات صنعتی نظامی، مخابراتی، 
            | پتروشیمی، قالب سازی، جیگ و فیکسچ رو.. . آغاز به کار نمود و اینک پس از گذشت 30 سال و انجام پروژه 
            | های متعدد و متنوع یکی از مجریان توانمند و شناخته شده درعرصه صنعت می باشد. 
            | این شرکت با بکارگیری نیروهای متخصص و کارآمد همچنین استفاده از تجهیزات و ماشین آلات بروز 
            | آمادگی خود را برای انجام هرگونه خدمات طراحی و ساخت قطعات سه و چهارمحور اعلام میدارد . 
          .map-view 
            iframe(src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d663.7120431912838!2d51.33024597697675!3d35.676126231244005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3f8dfe375ee4e513%3A0x6cd340a17dff09dd!2sHamid%20Molding!5e0!3m2!1sen!2sde!4v1753951115942!5m2!1sen!2sde" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade")
        .footer-section.contact
          h3.footer-title تماس با ما
          .contact-info
            .contact-item
              i.fas.fa-map-marker-alt
              span تهران، آزادی، بعد از میدان فتح، مقابل پابگاه شکاری، خیابان شهید کوسه لو، (سرآسیاب مهرآباد سابق) پلاک 47 (روبه روی مسجد رسالت)
            .contact-item
              i.fas.fa-phone
              span 021-66612134
            .contact-item
              i.fas.fa-mobile-alt
              span 09121974633
            .contact-item
              i.fas.fa-envelope
              span hamidfarokhian149@gmail.com
          .social-links
            a.social-link(href='http://instagram/cnc_bartar' target='_blank')
              i.fab.fa-instagram
            a.social-link(href='#' target='_blank')
              i.fab.fa-whatsapp
            a.social-link(href='#' target='_blank')
              i.fab.fa-telegram-plane

      .footer-bottom
        p.copyright © ۱۴۰۳ سی ان سی برتر. تمامی حقوق محفوظ است.

    script.
      // Mobile menu functionality
      const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
      const navLinksContainer = document.querySelector('.nav-links-container');
      const dropdowns = document.querySelectorAll('.dropdown');
      const navbar = document.querySelector('.navbar');

      // Navbar scroll animation
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          navbar.style.margin = '1vw';
          navbar.style.background = 'rgba(255, 255, 255, 0.95)';
        } else {
          navbar.style.margin = '3vw';
          navbar.style.background = 'rgba(255, 255, 255, 0.9)';
        }
      });

      mobileMenuBtn.addEventListener('click', () => {
        mobileMenuBtn.classList.toggle('active');
        navLinksContainer.classList.toggle('active');
      });

      // Handle dropdowns in mobile view
      dropdowns.forEach(dropdown => {
        const dropdownLink = dropdown.querySelector('a');
        const dropdownContent = dropdown.querySelector('.dropdown-content');
        
        dropdownLink.addEventListener('touchend', function(e) {
          if (window.innerWidth <= 768) {
            e.preventDefault();
            e.stopPropagation();

            // Close other dropdowns
            dropdowns.forEach(otherDropdown => {
              if (otherDropdown !== dropdown) {
                otherDropdown.classList.remove('active');
              }
            });

            // Toggle current dropdown
            dropdown.classList.toggle('active');

            // Ensure the dropdown toggle stays in view
            setTimeout(() => {
              // Scroll the nav-links-container so the dropdownLink is fully visible
              const container = navLinksContainer;
              const linkRect = dropdownLink.getBoundingClientRect();
              const containerRect = container.getBoundingClientRect();

              if (linkRect.top < containerRect.top) {
                // If link is above the visible area, scroll up
                container.scrollTop += linkRect.top - containerRect.top - 10;
              } else if (linkRect.bottom > containerRect.bottom) {
                // If link is below the visible area, scroll down
                container.scrollTop += linkRect.bottom - containerRect.bottom + 10;
              }
            }, 10);
          }
        });

        // Prevent clicks inside dropdown from bubbling up
        dropdownContent.addEventListener('click', (e) => {
          e.stopPropagation();
        });
      });

      // Handle link clicks in mobile view
      const mobileLinks = document.querySelectorAll('.nav-links a, .dropdown-content a');
      mobileLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          if (window.innerWidth <= 768) {
            // Only prevent default for dropdown toggles
            if (!link.parentElement.classList.contains('dropdown')) {
              // Close mobile menu after clicking a link
              mobileMenuBtn.classList.remove('active');
              navLinksContainer.classList.remove('active');
              // Reset all dropdowns
              dropdowns.forEach(dropdown => dropdown.classList.remove('active'));
            }
          }
        });
      });

      // Close mobile menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!navLinksContainer.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
          mobileMenuBtn.classList.remove('active');
          navLinksContainer.classList.remove('active');
          // Reset all dropdowns
          dropdowns.forEach(dropdown => dropdown.classList.remove('active'));
        }
      });

      // Close mobile menu when window is resized above mobile breakpoint
      window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
          mobileMenuBtn.classList.remove('active');
          navLinksContainer.classList.remove('active');
          dropdowns.forEach(dropdown => dropdown.classList.remove('active'));
        }
      });

      // Dropdown handling for all dropdowns
      dropdowns.forEach(dropdown => {
        const dropdownContent = dropdown.querySelector('.dropdown-content');
        let isDropdownOpen = false;
        let timeoutId;

        function showDropdown() {
          isDropdownOpen = true;
          dropdownContent.style.display = 'flex';
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
        }

        function hideDropdown() {
          timeoutId = setTimeout(() => {
            isDropdownOpen = false;
            dropdownContent.style.display = 'none';
          }, 200);
        }

        dropdown.addEventListener('mouseenter', showDropdown);
        dropdownContent.addEventListener('mouseenter', showDropdown);
        
        dropdown.addEventListener('mouseleave', hideDropdown);
        dropdownContent.addEventListener('mouseleave', hideDropdown);
      });

      let slideIndex = 1;
      showSlides(slideIndex);

      function changeSlide(n) {
        showSlides(slideIndex += n);
      }

      function currentSlide(n) {
        showSlides(slideIndex = n);
      }

      function showSlides(n) {
        let slides = document.getElementsByClassName("slide");
        let dots = document.getElementsByClassName("dot");
        
        if (n > slides.length) {slideIndex = 1}
        if (n < 1) {slideIndex = slides.length}
        
        for (let i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }
        for (let i = 0; i < dots.length; i++) {
          dots[i].className = dots[i].className.replace(" active", "");
        }
        
        slides[slideIndex-1].style.display = "block";
        dots[slideIndex-1].className += " active";
      }

      // Auto slide
      setInterval(() => {
        changeSlide(1);
      }, 5000);

      // Card slideshow functionality
      function initCardSlideshows() {
        const cardSlideshows = document.querySelectorAll('.card-slideshow');
        
        cardSlideshows.forEach((slideshow, index) => {
          const slides = slideshow.getElementsByClassName('card-slide');
          let currentSlide = 0;
          
          // Set initial state
          for (let i = 0; i < slides.length; i++) {
            slides[i].style.opacity = i === 0 ? '1' : '0';
            slides[i].style.display = 'block';
          }
          
          // Start each slideshow at a different time
          setTimeout(() => {
            // Auto slide for each card
            setInterval(() => {
              // Fade out current slide
              slides[currentSlide].style.opacity = '0';
              
              // Move to next slide
              currentSlide = (currentSlide + 1) % slides.length;
              
              // Fade in next slide
              slides[currentSlide].style.opacity = '1';
            }, 3000);
          }, index * 1000); // Start each slideshow 1 second after the previous one
        });
      }

      // Initialize card slideshows when the page loads
      window.addEventListener('load', initCardSlideshows);
      
